<!DOCTYPE html>
<html>
    <head>
        <title>OAuth Sandbox</title>
        <script src="Library/2.0.0-crypto.js"></script>
        <script src="Library/2.0.0-sha1.js"></script>
        <script src="Library/2.0.0-hmac.js"></script>

        <script src="OAuth/Token.js"></script>
        <script src="OAuth/Cookie.js"></script>
        <script src="OAuth/Request.js"></script>
        <script src="OAuth/Consumer.js"></script>
        <script src="OAuth/SignatureMethod.js"></script>
        <script src="OAuth/SignatureMethod/Plaintext.js"></script>
        <script src="OAuth/SignatureMethod/HMAC-SHA1.js"></script>
        <script src="OAuth/Service.js"></script>
        <script src="OAuth/Service/OAuthSandbox.js"></script>
        <script src="OAuth/Service/Google.js"></script>
        <script src="OAuth/Utilities.js"></script>

        <link href="css/style.css" rel="stylesheet">
    </head>
    <body>
        <script>
            /*var options = {
                debug: true,
                consumer_key: '14f5532b7ae62d8d',
                consumer_secret: 'ca5fd9cd3d4b1d3ce27e75935ff3',
                onauthorized: function(){
                    var data = this.threeLegged();
                }
            };
            
            var cookie = new OAuthCookie('oauth_token');
            cookie.destroy();
			
            var sandbox_oauth = new OAuthServiceOAuthSandbox(options);
            var data = sandbox_oauth.twoLegged();
            sandbox_oauth.authorize();            
			*/
			var options = {
                debug: true,
                consumer_key: 'anonymous',
                consumer_secret: 'anonymous',
                onauthorized: function(){
                    this.getContacts();
                }
            };
            
            var cookie = new OAuthCookie('oauth_token');
            cookie.destroy();
            
            var google_oauth = new OAuthServiceGoogle(options);
			google_oauth.setDisplayName('Google jsOAuth test');
			google_oauth.setScope(['https://www.google.com/m8/feeds/']);
			
        </script>
        
        <script>
            window.onload = window.onresize = window.onscroll = function () {
                var d = document;
                var mask = d.getElementById('mask');
                if (mask) {
	                var wndWidth = window.innerWidth || d.documentElement.clientWidth || d.body.clientWidth;
	                var wndHeight = window.innerHeight || d.documentElement.clientHeight || d.body.clientHeight;
	
	                var offsetY = d.documentElement.scrollTop || d.body.scrollTop || window.pageYOffset;
	                var offsetX = d.documentElement.scrollLeft || d.body.scrollLeft || window.pageXOffset;
	
	                var pageWidth = offsetX < wndWidth ? wndWidth : offsetX;        
	                var pageHeight = offsetY < wndHeight ? wndHeight : offsetY;
	
	                mask.style.height = Math.max(
	                    Math.max(d.body.scrollHeight, d.documentElement.scrollHeight),
	                    Math.max(d.body.offsetHeight, d.documentElement.offsetHeight),
	                    Math.max(d.body.clientHeight, d.documentElement.clientHeight)
	                ) + 'px';
	
	                for(var i=0; i < mask.childNodes.length; i++) {
	                    var popup = mask.childNodes[i];
	                    if (popup.nodeType == 1) {
	                        var x = ((wndWidth - offsetX) - popup.offsetWidth) / 2;
	                        var y = ((wndHeight - offsetY) - popup.offsetHeight) / 2;
	                        
	                        popup.style.top = y + 'px';
	                        popup.style.left = x + 'px';
	                    }
	                }
				}
            }
        </script>
    </body>
</html>
